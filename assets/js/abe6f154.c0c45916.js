"use strict";(self.webpackChunkhackathon_book=self.webpackChunkhackathon_book||[]).push([[5095],{4469:(e,n,i)=>{i.d(n,{A:()=>c});i(6540);const r={callout:"callout_jYHE",calloutHeader:"calloutHeader_LAHO",calloutIcon:"calloutIcon_Sver",calloutTitle:"calloutTitle_Y2EA",calloutContent:"calloutContent_fpOd",note:"note_VCic",tip:"tip_s2nh",warning:"warning_eW1i",danger:"danger_zfsw",info:"info_IOty"};var s=i(4848),t={note:"\ud83d\udcdd",tip:"\ud83d\udca1",warning:"\u26a0\ufe0f",danger:"\ud83d\udea8",info:"\u2139\ufe0f"};const c=function(e){var n=e.type,i=void 0===n?"note":n,c=e.title,a=e.icon,o=e.children,l=a||t[i];return(0,s.jsxs)("div",{className:r.callout+" "+r[i],role:"note","aria-label":i+" callout",children:[(0,s.jsxs)("div",{className:r.calloutHeader,children:[(0,s.jsx)("span",{className:r.calloutIcon,children:l}),c&&(0,s.jsx)("strong",{className:r.calloutTitle,children:c})]}),(0,s.jsx)("div",{className:r.calloutContent,children:o})]})}},6850:(e,n,i)=>{i.d(n,{A:()=>c});var r=i(6540);const s={quizContainer:"quizContainer_Ly96",quizHeader:"quizHeader_Qo06",quizLabel:"quizLabel_MaFv",difficultyBadge:"difficultyBadge_Wo6d",easy:"easy_isbn",medium:"medium_p6MP",hard:"hard_P2Aa",question:"question_cvou",codeSnippet:"codeSnippet__bHr",options:"options_VfkM",option:"option_Jqpj",selected:"selected_wvvN",correct:"correct_o2Yu",incorrect:"incorrect_BE9l",optionLetter:"optionLetter_VWfV",optionText:"optionText_Aap0",checkmark:"checkmark_dcs6",cross:"cross_Hcmk",feedback:"feedback_Z1tN",feedbackCorrect:"feedbackCorrect_KhSC",feedbackIncorrect:"feedbackIncorrect_PbO3",feedbackHeader:"feedbackHeader__j5R",feedbackIcon:"feedbackIcon_B5j3",explanation:"explanation_VZj9",retryButton:"retryButton_OmlM"};var t=i(4848);const c=function(e){var n=e.question,i=e.options,c=e.correctAnswer,a=e.explanation,o=(e.type,e.codeSnippet),l=e.difficulty,d=void 0===l?"medium":l,h=(0,r.useState)(null),u=h[0],p=h[1],x=(0,r.useState)(!1),g=x[0],f=x[1],j=u===c;return(0,t.jsxs)("div",{className:"quiz-container "+s.quizContainer,"data-difficulty":d,children:[(0,t.jsxs)("div",{className:s.quizHeader,children:[(0,t.jsx)("span",{className:s.quizLabel,children:"Quiz"}),d&&(0,t.jsx)("span",{className:s.difficultyBadge+" "+s[d],children:d.charAt(0).toUpperCase()+d.slice(1)})]}),(0,t.jsx)("div",{className:s.question,children:n}),o&&(0,t.jsx)("pre",{className:s.codeSnippet,children:(0,t.jsx)("code",{children:o})}),(0,t.jsx)("div",{className:s.options,children:i.map(function(e,n){return(0,t.jsxs)("button",{className:s.option+" "+(u===n?s.selected:"")+" "+(g&&n===c?s.correct:g&&u===n?s.incorrect:""),onClick:function(){return function(e){g||(p(e),f(!0))}(n)},disabled:g,"aria-pressed":u===n,children:[(0,t.jsxs)("span",{className:s.optionLetter,children:[String.fromCharCode(65+n),"."]}),(0,t.jsx)("span",{className:s.optionText,children:e}),g&&n===c&&(0,t.jsx)("span",{className:s.checkmark,children:"\u2713"}),g&&u===n&&n!==c&&(0,t.jsx)("span",{className:s.cross,children:"\u2717"})]},n)})}),g&&(0,t.jsxs)("div",{className:s.feedback+" "+(j?s.feedbackCorrect:s.feedbackIncorrect),children:[(0,t.jsx)("div",{className:s.feedbackHeader,children:j?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:s.feedbackIcon,children:"\u2713"}),(0,t.jsx)("strong",{children:"Correct!"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:s.feedbackIcon,children:"\u2717"}),(0,t.jsx)("strong",{children:"Not quite right"})]})}),(0,t.jsx)("div",{className:s.explanation,children:a}),(0,t.jsx)("button",{className:s.retryButton,onClick:function(){p(null),f(!1)},children:"Try Again"})]})]})}},7772:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"ros2-fundamentals/06-actions","title":"Actions","description":"You\'ve learned topics (asynchronous streaming) and services (synchronous request-response). But what about tasks that take time and provide progress updates? Actions are ROS 2\'s solution for long-running, goal-oriented operations with feedback.","source":"@site/docs/ros2-fundamentals/06-actions.md","sourceDirName":"ros2-fundamentals","slug":"/ros2-fundamentals/06-actions","permalink":"/physical-ai-and-humanoid-robotics/docs/ros2-fundamentals/06-actions","draft":false,"unlisted":false,"editUrl":"https://github.com/gurupak/physical-ai-and-humanoid-robotics/tree/main/docs/ros2-fundamentals/06-actions.md","tags":[],"version":"current","sidebarPosition":6,"frontMatter":{"id":"06-actions","title":"Actions","sidebar_label":"Actions","sidebar_position":6,"sidebar_custom_props":{"difficulty":"Intermediate","readingTime":"25 minutes","handsOnTime":"60 minutes"}},"sidebar":"tutorialSidebar","previous":{"title":"Services","permalink":"/physical-ai-and-humanoid-robotics/docs/ros2-fundamentals/05-services"},"next":{"title":"Parameters & Launch","permalink":"/physical-ai-and-humanoid-robotics/docs/ros2-fundamentals/07-parameters-launch"}}');var s=i(4848),t=i(8453),c=i(6850),a=i(4469);const o={id:"06-actions",title:"Actions",sidebar_label:"Actions",sidebar_position:6,sidebar_custom_props:{difficulty:"Intermediate",readingTime:"25 minutes",handsOnTime:"60 minutes"}},l="Actions",d={},h=[{value:"Understanding Actions",id:"understanding-actions",level:2},{value:"ROS 2 Action Types",id:"ros-2-action-types",level:2},{value:"Example: Fibonacci Action",id:"example-fibonacci-action",level:3},{value:"Creating an Action Server",id:"creating-an-action-server",level:2},{value:"Install Action Dependencies",id:"install-action-dependencies",level:3},{value:"Create Custom Action Definition",id:"create-custom-action-definition",level:3},{value:"Write the Action Server",id:"write-the-action-server",level:3},{value:"Creating an Action Client",id:"creating-an-action-client",level:2},{value:"Testing the Action",id:"testing-the-action",level:2},{value:"Action CLI Tools",id:"action-cli-tools",level:2},{value:"List Active Actions",id:"list-active-actions",level:3},{value:"Get Action Info",id:"get-action-info",level:3},{value:"Send Goal from CLI",id:"send-goal-from-cli",level:3},{value:"When to Use Each Pattern",id:"when-to-use-each-pattern",level:2},{value:"What You&#39;ve Learned",id:"what-youve-learned",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Additional Resources",id:"additional-resources",level:2}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"actions",children:"Actions"})}),"\n",(0,s.jsxs)(n.p,{children:["You've learned topics (asynchronous streaming) and services (synchronous request-response). But what about tasks that take time and provide progress updates? ",(0,s.jsx)(n.strong,{children:"Actions"})," are ROS 2's solution for long-running, goal-oriented operations with feedback."]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"understanding-actions",children:"Understanding Actions"}),"\n",(0,s.jsx)(n.p,{children:"Imagine tracking a package delivery:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"You (client)"}),' set a goal: "Deliver to 123 Main St"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Delivery service (server)"})," accepts the goal and starts working"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Service sends periodic updates"}),': "Picked up", "In transit", "Out for delivery"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Service sends final result"}),': "Delivered" or "Failed"']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"You can cancel"})," the delivery anytime before completion"]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["This is the ",(0,s.jsx)(n.strong,{children:"action pattern"})," in ROS 2."]}),"\n",(0,s.jsx)(n.mermaid,{value:"stateDiagram-v2\r\n    [*] --\x3e Idle\r\n    Idle --\x3e Executing: send_goal()\r\n    Executing --\x3e Executing: periodic feedback\r\n    Executing --\x3e Succeeded: goal completed\r\n    Executing --\x3e Aborted: error occurred\r\n    Executing --\x3e Canceled: cancel_goal()\r\n    Succeeded --\x3e [*]\r\n    Aborted --\x3e [*]\r\n    Canceled --\x3e [*]"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Action Components"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),': What you want to achieve (e.g., "Navigate to pose X")']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Feedback"}),': Progress updates during execution (e.g., "50% complete", "Current position")']}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Result"}),': Final outcome when done (e.g., "Success", "Failed: obstacle detected")']}),"\n"]}),"\n",(0,s.jsx)(c.A,{question:"When should you use an action instead of a service?",options:["When you need a quick request-response operation","When you need to stream high-frequency sensor data","When you have a long-running task that provides progress updates and can be canceled","When you want to broadcast data to multiple subscribers"],correctAnswer:2,explanation:"Actions are for long-running tasks (navigation, manipulation, file processing) that take time, provide progress feedback, and allow cancellation. Services are for quick operations, topics for streaming data.",difficulty:"medium"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"ros-2-action-types",children:"ROS 2 Action Types"}),"\n",(0,s.jsx)(n.p,{children:"Action definitions include three parts:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Goal"}),": Request sent to start the action"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Result"}),": Final outcome returned when action completes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Feedback"}),": Periodic updates during execution"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"example-fibonacci-action",children:"Example: Fibonacci Action"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Goal\r\nint32 order\r\n---\r\n# Result\r\nint32[] sequence\r\n---\r\n# Feedback\r\nint32[] partial_sequence\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Popular Action Types"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"nav2_msgs/action/NavigateToPose"}),": Robot navigation"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"control_msgs/action/FollowJointTrajectory"}),": Robot arm movement"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"turtle_actionlib/Rotate"}),": TurtleSim rotation (tutorial)"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"creating-an-action-server",children:"Creating an Action Server"}),"\n",(0,s.jsx)(n.p,{children:"Let's create a Fibonacci sequence action server that generates numbers and provides feedback."}),"\n",(0,s.jsx)(n.h3,{id:"install-action-dependencies",children:"Install Action Dependencies"}),"\n",(0,s.jsx)(n.p,{children:"First, add action support to your package:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd ~/ros2_ws/src/my_first_package\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Edit ",(0,s.jsx)(n.code,{children:"package.xml"})," to add:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-xml",children:"<depend>rclpy</depend>\r\n<depend>action_msgs</depend>\r\n<depend>example_interfaces</depend>\n"})}),"\n",(0,s.jsx)(n.h3,{id:"create-custom-action-definition",children:"Create Custom Action Definition"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"mkdir -p action\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Create ",(0,s.jsx)(n.code,{children:"action/Fibonacci.action"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"# Goal\r\nint32 order\r\n---\r\n# Result\r\nint32[] sequence\r\n---\r\n# Feedback\r\nint32[] partial_sequence\n"})}),"\n",(0,s.jsxs)(n.p,{children:["Update ",(0,s.jsx)(n.code,{children:"CMakeLists.txt"})," (for ament_cmake) or ",(0,s.jsx)(n.code,{children:"setup.py"})," (Python) to include action."]}),"\n",(0,s.jsx)(a.A,{type:"info",title:"Using Pre-built Actions",children:(0,s.jsxs)(n.p,{children:["For this tutorial, we'll use a pre-existing action type from ",(0,s.jsx)(n.code,{children:"example_interfaces"})," or create a simple example. In practice, you'd define custom actions for your robot's specific tasks."]})}),"\n",(0,s.jsx)(n.h3,{id:"write-the-action-server",children:"Write the Action Server"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="my_first_package/fibonacci_server.py" showLineNumbers',children:"import time\r\nimport rclpy\r\nfrom rclpy.action import ActionServer\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.action import Fibonacci\r\n\r\nclass FibonacciActionServer(Node):\r\n    def __init__(self):\r\n        super().__init__('fibonacci_action_server')\r\n        \r\n        self._action_server = ActionServer(\r\n            self,\r\n            Fibonacci,\r\n            'fibonacci',\r\n            self.execute_callback\r\n        )\r\n        \r\n        self.get_logger().info('Fibonacci Action Server started')\r\n    \r\n    def execute_callback(self, goal_handle):\r\n        self.get_logger().info('Executing goal...')\r\n        \r\n        # Initialize feedback\r\n        feedback_msg = Fibonacci.Feedback()\r\n        feedback_msg.partial_sequence = [0, 1]\r\n        \r\n        # Generate Fibonacci sequence\r\n        for i in range(1, goal_handle.request.order):\r\n            # Check if goal was canceled\r\n            if goal_handle.is_cancel_requested:\r\n                goal_handle.canceled()\r\n                self.get_logger().info('Goal canceled')\r\n                return Fibonacci.Result()\r\n            \r\n            # Calculate next Fibonacci number\r\n            feedback_msg.partial_sequence.append(\r\n                feedback_msg.partial_sequence[i] + feedback_msg.partial_sequence[i-1]\r\n            )\r\n            \r\n            # Publish feedback\r\n            goal_handle.publish_feedback(feedback_msg)\r\n            self.get_logger().info(f'Feedback: {feedback_msg.partial_sequence}')\r\n            \r\n            time.sleep(1)  # Simulate work\r\n        \r\n        # Mark goal as succeeded\r\n        goal_handle.succeed()\r\n        \r\n        # Return result\r\n        result = Fibonacci.Result()\r\n        result.sequence = feedback_msg.partial_sequence\r\n        return result\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    node = FibonacciActionServer()\r\n    rclpy.spin(node)\r\n    node.destroy_node()\r\n    rclpy.shutdown()\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Key Points"}),":"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Line 11-15"}),": Create ActionServer with action type, name, and execute callback"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lines 27-31"}),": Check for cancellation requests"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Line 39"}),": Publish periodic feedback"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Line 45"}),": Mark goal as succeeded"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Line 48-50"}),": Return final result"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"creating-an-action-client",children:"Creating an Action Client"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",metastring:'title="my_first_package/fibonacci_client.py" showLineNumbers',children:"import rclpy\r\nfrom rclpy.action import ActionClient\r\nfrom rclpy.node import Node\r\nfrom example_interfaces.action import Fibonacci\r\n\r\nclass FibonacciActionClient(Node):\r\n    def __init__(self):\r\n        super().__init__('fibonacci_action_client')\r\n        \r\n        self._action_client = ActionClient(\r\n            self,\r\n            Fibonacci,\r\n            'fibonacci'\r\n        )\r\n    \r\n    def send_goal(self, order):\r\n        goal_msg = Fibonacci.Goal()\r\n        goal_msg.order = order\r\n        \r\n        self.get_logger().info('Waiting for action server...')\r\n        self._action_client.wait_for_server()\r\n        \r\n        self.get_logger().info(f'Sending goal: order={order}')\r\n        \r\n        send_goal_future = self._action_client.send_goal_async(\r\n            goal_msg,\r\n            feedback_callback=self.feedback_callback\r\n        )\r\n        \r\n        send_goal_future.add_done_callback(self.goal_response_callback)\r\n    \r\n    def goal_response_callback(self, future):\r\n        goal_handle = future.result()\r\n        \r\n        if not goal_handle.accepted:\r\n            self.get_logger().info('Goal rejected')\r\n            return\r\n        \r\n        self.get_logger().info('Goal accepted')\r\n        \r\n        get_result_future = goal_handle.get_result_async()\r\n        get_result_future.add_done_callback(self.get_result_callback)\r\n    \r\n    def get_result_callback(self, future):\r\n        result = future.result().result\r\n        self.get_logger().info(f'Result: {result.sequence}')\r\n        rclpy.shutdown()\r\n    \r\n    def feedback_callback(self, feedback_msg):\r\n        feedback = feedback_msg.feedback\r\n        self.get_logger().info(f'Feedback: {feedback.partial_sequence}')\r\n\r\ndef main(args=None):\r\n    rclpy.init(args=args)\r\n    \r\n    action_client = FibonacciActionClient()\r\n    action_client.send_goal(10)\r\n    \r\n    rclpy.spin(action_client)\r\n\r\nif __name__ == '__main__':\r\n    main()\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Flow"}),":"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lines 25-28"}),": Send goal with feedback callback"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lines 32-42"}),": Handle goal acceptance/rejection"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lines 44-47"}),": Handle final result"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Lines 49-51"}),": Handle periodic feedback"]}),"\n"]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"testing-the-action",children:"Testing the Action"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Terminal 1 (Server)"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run my_first_package fibonacci_server\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Terminal 2 (Client)"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 run my_first_package fibonacci_client\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Expected Output (Client)"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"[INFO] [fibonacci_action_client]: Sending goal: order=10\r\n[INFO] [fibonacci_action_client]: Goal accepted\r\n[INFO] [fibonacci_action_client]: Feedback: [0, 1, 1]\r\n[INFO] [fibonacci_action_client]: Feedback: [0, 1, 1, 2]\r\n[INFO] [fibonacci_action_client]: Feedback: [0, 1, 1, 2, 3]\r\n...\r\n[INFO] [fibonacci_action_client]: Result: [0, 1, 1, 2, 3, 5, 8, 13, 21, 34, 55]\n"})}),"\n",(0,s.jsx)(c.A,{question:"What is the purpose of the feedback callback in an action client?",options:["To send the final result back to the server","To receive periodic progress updates from the action server","To cancel the action","To verify the action server is running"],correctAnswer:1,explanation:"The feedback callback is invoked periodically by the action server to provide progress updates to the client. This allows the client to monitor long-running tasks (e.g., '50% complete', 'current position: X, Y').",difficulty:"medium"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"action-cli-tools",children:"Action CLI Tools"}),"\n",(0,s.jsx)(n.h3,{id:"list-active-actions",children:"List Active Actions"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 action list\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"/fibonacci\n"})}),"\n",(0,s.jsx)(n.h3,{id:"get-action-info",children:"Get Action Info"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ros2 action info /fibonacci\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Output"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Action: /fibonacci\r\nAction clients: 1\r\nAction servers: 1\n"})}),"\n",(0,s.jsx)(n.h3,{id:"send-goal-from-cli",children:"Send Goal from CLI"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'ros2 action send_goal /fibonacci example_interfaces/action/Fibonacci "{order: 5}"\n'})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"when-to-use-each-pattern",children:"When to Use Each Pattern"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Pattern"}),(0,s.jsx)(n.th,{children:"Use Case"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Topic"})}),(0,s.jsx)(n.td,{children:"Streaming data, one-way"}),(0,s.jsx)(n.td,{children:"Camera images, sensor readings"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Service"})}),(0,s.jsx)(n.td,{children:"Quick request-response"}),(0,s.jsx)(n.td,{children:"Get robot state, set parameter"})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Action"})}),(0,s.jsx)(n.td,{children:"Long-running, cancellable tasks"}),(0,s.jsx)(n.td,{children:"Navigate to pose, pick object"})]})]})]}),"\n",(0,s.jsx)(a.A,{type:"tip",title:"Action vs. Service Decision",children:(0,s.jsxs)(n.p,{children:["If the operation takes ",(0,s.jsx)(n.strong,{children:"more than 1 second"})," and you need progress feedback or cancellation, use an ",(0,s.jsx)(n.strong,{children:"action"}),". Otherwise, a ",(0,s.jsx)(n.strong,{children:"service"})," is simpler."]})}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"what-youve-learned",children:"What You've Learned"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Actions"})," handle long-running, goal-oriented tasks with feedback and cancellation"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 Actions have ",(0,s.jsx)(n.strong,{children:"goal"}),", ",(0,s.jsx)(n.strong,{children:"result"}),", and ",(0,s.jsx)(n.strong,{children:"feedback"})," components"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Action servers"})," execute tasks and publish feedback"]}),"\n",(0,s.jsxs)(n.li,{children:["\u2705 ",(0,s.jsx)(n.strong,{children:"Action clients"})," send goals, receive feedback, and get results"]}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Use actions for navigation, manipulation, and other time-consuming operations"}),"\n"]}),"\n",(0,s.jsx)(c.A,{question:"What are the three main components of a ROS 2 action?",options:["Publisher, Subscriber, Topic","Request, Response, Acknowledgment","Goal, Feedback, Result","Client, Server, Message"],correctAnswer:2,explanation:"Actions consist of: (1) Goal (what to achieve), (2) Feedback (periodic progress updates), and (3) Result (final outcome when complete or canceled).",difficulty:"easy"}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(n.p,{children:"You now understand all three communication patterns in ROS 2! Next, learn how to configure nodes and orchestrate multi-node systems."}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Continue to"}),": ",(0,s.jsx)(n.a,{href:"07-parameters-launch",children:"Parameters & Launch Files"})]}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,s.jsx)(n.admonition,{title:"Dive Deeper",type:"info",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Writing-an-Action-Server-Client/Py.html",children:"ROS 2 Action Tutorial"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros2.org/humble/api/",children:"Action Type Reference"})}),"\n"]})})]})}function p(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>c,x:()=>a});var r=i(6540);const s={},t=r.createContext(s);function c(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:c(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);